<div ng-controller="statusCtrl as vm">
    <div class="pane" ng-include="'status.html'"></div>
</div>

<script type="text/ng-template" id="status.html">
    <div class="crud">
        <center>
            <h2>Users</h2>
            <h3>Controller and Service (no Lamb)</h3>
        </center>

        <div ng-if="vm.editUser.id !== 'new'">
            <button class="create-button" ng-click="vm.add()">Add</button>
        </div>
        <div ng-if="vm.editUser.id === 'new'">
            <label>Name: </label><input type="text" ng-model="vm.editUser.firstName">&nbsp;&nbsp;<input type="text" ng-model="vm.editUser.lastName"><br />
            <label>Email: </label><input type="email" ng-model="vm.editUser.email">
            <button ng-click="vm.cancelEdit()">Cancel</button>
            <button ng-click="vm.create(vm.editUser)">Save</button>
        </div>


        <br />
        <br />
        <br />
        <div class="list" ng-repeat="user in vm.users">
            <div ng-if="vm.editUser.id !== user.id">
                <span>{{user.lastName}}, {{user.firstName}}</span>
                <button ng-click="vm.delete(user.id)">Delete</button>
                <button ng-click="vm.edit(user.id)">Edit</button>
            </div>
            <div ng-if="vm.editUser.id === user.id">
                <label>Name: </label><input type="text" ng-model="vm.editUser.firstName">&nbsp;&nbsp;<input type="text" ng-model="vm.editUser.lastName"><br />
                <label>Email: </label><input type="email" ng-model="vm.editUser.email">
                <button ng-click="vm.cancelEdit()">Cancel</button>
                <button ng-click="vm.update(vm.editUser)">Save</button>
            </div>
            <hr>
        </div>
    </div>
</script>
